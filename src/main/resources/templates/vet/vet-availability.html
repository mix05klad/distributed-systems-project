<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Vet Availability</title>
  <meta charset="UTF-8">
</head>
<body>
<h1>Manage Availability</h1>

<div th:if="${successMessage}" th:text="${successMessage}" style="color: green;"></div>
<div th:if="${errorMessage}" th:text="${errorMessage}" style="color: red;"></div>

<form th:action="@{/ui/vet/availability}" th:object="${availabilityForm}" method="post">
  <div>
    <label>Start</label>
    <input type="datetime-local" th:field="*{startTime}"/>
  </div>

  <div>
    <label>End</label>
    <input type="datetime-local" th:field="*{endTime}"/>
  </div>

  <button type="submit">Add Slot</button>
</form>

<h2>Existing Availability</h2>
<table border="1">
  <tr>
    <th>Start</th>
    <th>End</th>
    <th>Actions</th>
  </tr>
  <tr th:each="slot : ${slots}">
    <td th:text="${slot.startTime}"></td>
    <td th:text="${slot.endTime}"></td>
    <td>
      <form th:action="@{|/ui/vet/availability/${slot.id}/delete|}" method="post">
        <button type="submit">Delete</button>
      </form>
    </td>
  </tr>
</table>

<button onclick="location.href='/ui/vet/home'">Back to Dashboard</button>

</body>
</html>
